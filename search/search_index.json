{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Safer Streets","text":"<p>This is where you will find articles chronicling our deliverables and research and other resources...</p> <p>Work in progress</p> <p>Please note this site is not yet fully operational...</p>"},{"location":"#resources","title":"Resources","text":""},{"location":"#blog","title":"Blog","text":""},{"location":"#apps","title":"Apps","text":"<p> Crime Concentration Explorer Demo App</p>"},{"location":"#repositories","title":"Repositories","text":"<p>See the org page for instructions on getting set up for development</p> <p> safer-streets-eda - exploratory (public) data analysis</p> <p> safer-streets-apps - applications</p> <p> safer-streets-core - common functionality: crime, demographic and geospatial data extraction and manipulation, statistical methods</p> <p> site - sources for this site</p>"},{"location":"references/","title":"References","text":"<p>TODO...</p>"},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#tag:gini-coefficient","title":"Gini coefficient","text":"<ul> <li>            Comparison of Crime Concentration Measures          </li> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"tags/#tag:lorenz-curve","title":"Lorenz curve","text":"<ul> <li>            Comparison of Crime Concentration Measures          </li> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"tags/#tag:poisson-distribution","title":"Poisson distribution","text":"<ul> <li>            Comparison of Crime Concentration Measures          </li> </ul>"},{"location":"tags/#tag:public-crime-data","title":"Public crime data","text":"<ul> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"tags/#tag:streamlit","title":"streamlit","text":"<ul> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"blog/","title":"Recent Posts","text":""},{"location":"blog/tags/","title":"Tags","text":""},{"location":"blog/tags/#tag:gini-coefficient","title":"Gini coefficient","text":"<ul> <li>            Comparison of Crime Concentration Measures          </li> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"blog/tags/#tag:lorenz-curve","title":"Lorenz curve","text":"<ul> <li>            Comparison of Crime Concentration Measures          </li> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"blog/tags/#tag:poisson-distribution","title":"Poisson distribution","text":"<ul> <li>            Comparison of Crime Concentration Measures          </li> </ul>"},{"location":"blog/tags/#tag:public-crime-data","title":"Public crime data","text":"<ul> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"blog/tags/#tag:streamlit","title":"streamlit","text":"<ul> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"blog/author/team/","title":"The Safer Streets Team","text":"<p>Daniel Birks, Professor of Computational Social Science, University of Leeds</p> <p> profile</p> <p>Toby Davies, Associate Professor in Criminal Justice Data Analytics, University of Leeds</p> <p> profile</p> <p>Andrew Smith, Senior Research Fellow, University of Leeds</p> <p> profile</p>"},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/","title":"Comparison of Crime Concentration Measures","text":"<p>The purposes of these analyses are twofold:</p> <ul> <li>apply established methodologies for measuring crime concentration to our data and present the results</li> <li>critique the methodologies from both a practical and theoretical perspective</li> </ul> <p>Links are provided to the relevant notebooks in each section.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/#lorenz-and-naive-gini","title":"Lorenz and naive Gini","text":"<p> <code>lorenz-curve.ipynb</code></p> <p>Firstly taking crime data for different crime types and seeing how the concentration varies by crime type over the entire (3 year) period.</p> <p></p> <p>Unsurprisingly, shoplifting - which requires shops - is the most concentrated category.</p> <p>Looking at the magnitude and temporal stability - calculating the Gini coefficient for each month in the data, and comparing this to i.i.d. random data, using both irregular and similarly-sized regular spatial units, reveals some important issues:</p> <ul> <li>Statistical geographies (which control for population) exhibit lower concentration than regular ones, since controlling for population has a spatial averaging effect.</li> <li>there is a seasonal variation in concentration which is more pronounced for statistical geographies</li> <li>Gini significantly overestimates concentration as evidenced by the random data</li> </ul> <p></p> <p>Further investigation on Gini, and adjustments to it, can be found in the section below</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/#clumpiness-index","title":"Clumpiness index","text":"<p> <code>clumpiness.ipynb</code></p> <p>Adepeju et al describe a \"clumpiness index\" which is available in the proprietary and closed-source FRAGSTATS package. A quick analysis reveals some drawbacks to the measure (see below). For our purposes we made the following requirements for a useful clumpiness measure:</p> <ul> <li>essential:<ul> <li>scale invariant (i.e. adimensionless quantity)</li> <li>intuitive scale with known bounds, e.g. 0 for completely dispersed, 1 for a single cluster with minimal perimeter</li> </ul> </li> <li>desirable<ul> <li>agnostic to the shape of the (regular) geometry</li> <li>works with irregular geometries (e.g. census geographies)</li> </ul> </li> </ul> <p>The clumpiness index as described by Adepeju satisfies only one of these requirements. While we can replicate their example, it is inconsistent with the FRAGSTATS documentation, requires a regular (square) grid, is potentially prone to discontinuities The value is hard to interpret and is rather counter intuitively impacted by the size of the background surrounding the features.</p> <p>As a result we decided to create our own clumpiness measure. A simple area/perimeter ratio is not scale invariant, nor is it intuitive.</p> <p>We argue that scale is integral to any measure: consider two disjoint squares of side \\(x\\). At a length scale of \\(x\\) this is a completely dispersed arrangement - two separate \"units\" and a \"clumpiness\" value of 0 would be appropriate. However, consider the same geometry at a scale of \\(x/2\\) - it becomes two clusters of 4 \"unit\" squares and is thus, to some degree, clumpy. As the spatial scale is decrease this arrangement must be considered to be more and more clumped.</p> <p>Conversely, applying a large length scale (say \\(10x\\)) on this arrangement becomes somewhat meaningless, so the length scale has a lower bound approximately represented by the smallest feature of the geometry.</p> <p>Having now established that a representative length scale must be supplied to any unambiguous clumpiness calculation, it can also be used to render quantities dimensionless (between length and areal units)</p> <p>To this end we compute lower and upper bounds, in units of the length scale \\(s\\), for the perimeter of a square-based geometry with a given area \\(A\\).</p> \\[ P_{min} = 4\\sqrt{A} \\] <p>and the upper bound corresponds to \\(N=A/s^2\\) disjoint length-unit squares:</p> \\[ P_{max} = 4sN = \\frac{4A}{s} \\] <p>The clumpiness - the perimeter of the geometry in question - must then lie in between these two values (assuming a valid length scale has been chosen) and can be normalised:</p> \\[ CI = \\frac{P_{max} - P}{P_{max} - P_{min}} \\] <p>thus yielding a value of 0 for fully disjoint geometries (at the given length scale) and 1 for a geometry that minimises the perimeter (a square in this case)</p> <p>  For a more practical demonstration, we compute the clumpiness of geometries starting with a fully-disjoint 11x11 geometry (left), gradually filling in empty squares until left with a single large square (right). The resulting curve is:</p> <p></p> <p>This index can easily be applied to non-square regular geometries and even irregular geometries.</p> <p>When applying this measure to real data, we can apply it in a number of ways: firstly measuring the clumpiness of all spatial units that contain a crime in a given period, but also filtering spatial units to cover only the top \\(N%\\) of crimes - that is, the smallest number of spatial units required to capture \\(N%\\) of crime.</p> <p>Applying this to real data shows that clumpiness index is very stable from month to month, decreases as we filter crimes, and increases with coarser grids:</p> <p></p> <p></p> <p>With results like this it's open to debate whether this measure is particularly useful or insightful. It doesn't detect seasonal variation in concentration, at least at the scale tested (some other measures do), it's not scale-invariant and the spatial trend is one we'd expect for any input. If temporal and/or spatial scales can be found that maximise the clumpiness index, then it may become useful.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/#kde","title":"KDE","text":"<p> <code>kde-sampling.ipynb</code></p> <p>KDE sampling allows us to create a spatial distribution for crimes based on sampled location data (blue points below). The resulting distribution can then be sampled to synthesise similarly-distributed crimes (red points).</p> <p></p> <p>However the synthesised crimes tend to be slightly more spread out than the original data, and the sampling doesn't take into account geographical features. This approach does not appear to have much use for our purposes, at least for now.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/#adjusted-gini","title":"Adjusted Gini","text":"<p> <code>gini.ipynb</code></p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/#rationale","title":"Rationale","text":"<p>The Gini coefficient measures the difference between the observed Lorenz curve and the line \\(y=x\\), which corresponds to a perfectly even distribution (of crimes) across all possible states (locations). If we consider crimes to be i.i.d. Poisson processes for each state, then a perfectly even distribution is actually a (very) low entropy, (highly) improbable, state for the system. Consider \\(C\\) crimes occuring in \\(N\\) units. Since we can't have fractional crimes, a perfectly even distribution is only possible if \\(C\\) is an integer multiple of \\(N\\).</p> <p>Taking the case where \\(C=N\\), the probability of one crime per state is given by \\(N!/N^N\\), which very quickly vanishes as \\(N\\) increases, so much so that if N is 750 or more, the probability cannot be represented in double precision arithmetic.</p> N p 10 0.0003 30 1e-12 100 9e-43 300 2e-129 1000 ~0 (not representable) <p>Since crime analysis would typically have \\(N\\gg 100\\) and also because typically \\(C&lt;N\\), this does not seem to be a suitable reference for a concentration calculation. Bernasco and Steenbeck have gone some way to address this, suggesting a reference described by the line \\(y=\\text{max}(Nx/C,1)\\), which is the equivalent of \\(C\\) states containing 1 crime, and \\(N-C\\) states empty. However this state is also an improbable low entropy state with the chance of occurrence given by \\(\\frac{N!(C-N)!}{N^C}\\)</p> N C \\(\\lambda\\) p 300 30 0.1 0.2 300 60 0.2 0.002 300 150 0.5 1e-20 1000 100 0.1 0.006 1000 200 0.2 5e-10 1000 500 0.5 3e-67 <p>which is clearly a big improvement when \\(C\\ll N\\), but notably less so when \\(C\\) is larger. But we can just use the highest entropy state as the reference curve, which just happens to be the scaled PDF of the (assumed) Poisson distribution - in other words there will likely be a mixture of counts in each state, depending in the intensity (\\(C/N\\)) of the Poisson process. The table below lists the expected number of states with a specific crime count, for 100 crimes at varying intensities:</p> \\(\\lambda\\) N empty 1 crime 2 crimes 3 crimes 4 crimes 0.1 1000 904.8 90.5 4.5 0.2 500 409.4 81.9 8.2 0.5 0.5 200 121.3 60.7 15.2 2.5 0.3","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/#implementation","title":"Implementation","text":"<p>The first step is simply to check how closely that purely random data matches a Poisson distribution that can subsequently be used to create a baseline Lorenz curve. There are two options - randomly assigning points within a boundary, then aggregating to spatial units, or directly sampling the spatial units.</p> <p>There are pronounced differences between the two approaches which are illustrated in the graphs below. When the spatial units have different sizes (LSOAs in this case), in the first approach larger spatial units will typically have higher counts (bottom graph), and even regular units that intersect the boundary will have lower counts (top graph).</p> <p></p> <p>The implication is that crimes are no longer identically distributed across spatial units, and if this is the case then it is not valid to use a Poisson distribution as a baseline Lorenz curve. More on this in the next section.</p> <p>However, assuming we do have independent and identical distributions across spatial units, the \"null hypothesis\" Lorenz curve is given by</p> \\[ L_0(x) = \\frac{1}{\\lambda}\\int_0^x{Q(p; \\lambda) dp} \\] <p>where \\(Q(p;\\lambda)\\) is the inverse CDF of the Poisson distribution. The curve is piecewise-linear and continuous and is described by the origin and the set of points</p> \\[ \\left\\{ (F(k; \\lambda), F(k-1; \\lambda)) \\mid k \\in \\mathbb{N}_0 \\right\\} \\] <p>where \\(F(k; \\lambda)\\) is the CDF.</p> <p>The figure below plots this curve (blue line) alongside real crime data (green) as well as the naive Gini baseline (black dotted line) and the limit proposed by Bernasco and Steenbeck (described above, orange dotted line). The Poisson intensity in this case is approximately \\(1\\over3\\) - in other words at least 2/3 of spatial units are crime- free.</p> <p>The naive Gini value is (twice) the area bounded by the green and black dotted lines. Bernasco and Steenback's adjusted value is twice the significantly smaller area bounded by the orange rather than the black dotted line.</p> <p>Our proposal is to use the even smaller red shaded area (\\(A_0 - A\\), where \\(A_0\\) and \\(A\\) are the areas above the blue and green curves respectively), either directly or as a proportion of the combined red and grey shaded areas (\\(A_0\\))<sup>1</sup>. Unlike the other baselines, this is not a hard limit: it is possible for the data to be more dispersed than would be expected randomly, so negative values are possible.</p> <p></p> <p>Looking at how this measure would behave for a range of Poisson intensities. Maximal concentration (all crime in same location) correspond to $A_{min} which is always zero, yielding an adjusted Gini of 1. Maximal dispersion areas \\(A_{max}\\) are always positive and peak at 0.5 (essentially the black dotted line). The red shaded area depicts the possible range of adjusted Gini values.</p> <p></p> <p>Applying this to real monthly crime data over 3 years, using a regular 500m grid shows a marked difference between naive and adjusted Gini, with the adjusted value lower (as expected) and also accentuates the seasonality of concentration</p> <p></p> <p>Finally, using random data sampled with varying weights to create greater and greater concentration, we look at how the Lorenz curves and the Gini measures vary:</p> <p></p> <p>Note that in this example the number of features is smaller than the number of crimes - the Bernasco &amp; Steenback Gini would not be any different to naive Gini.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/07/31/comparison-of-crime-concentration-measures/#poisson-gamma","title":"Poisson-Gamma","text":"<p> <code>poisson-gamma.ipynb</code></p> <p>TODO</p> <ul> <li>need to revisit spatial invariance and concentration sections in light of non-i.i.d.</li> <li>Poisson-Gamma based Lorenz baseline</li> </ul> <ol> <li> <p>this measure has more interpretable bounds\u00a0\u21a9</p> </li> </ol>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/11/crime-concentration-explorer/","title":"Crime Concentration Explorer","text":"","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#rationale","title":"Rationale","text":"<p>This app has been built as a proof-of-concept tool for practitioners and policymakers with an interest in the patterns of crime concentration, using only publically available data. It enables users to visualise crime hotspots over time for a given Police Force Area (PFA).</p> <p>The use of public data (crime data from data.police.uk) imposes some limitations: although we have precise (albeit slighly perturbed) location data, we only have rough temporal information (the month the crime occurred) and a dozen or so broad categories of crime. The Safer Streets project is concerned specifically with antisocial behaviour (ASB), knife crime and violence against women and girls (VAWG). While ASB is represented in the data, the demo app proxies the broader Possession of weapons and Violence and sexual offences categories for knife crime and VAWG.</p> <p>Users can select the PFA, crime type, spatial units, the degree of concentration<sup>1</sup>, then run the analysis over 3 years or inspect specific months. Counts per spatial unit are displayed on an interactive map and, optionally, a Lorenz curve is shown. The Gini coefficient is displayed.</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#implementation","title":"Implementation","text":"<p>The app is built in the python streamlit framework, using pydeck for map visualisations and altair for graphs.</p> <p>Data is handled using pandas and geopandas for geospatial data.</p> <p>Whilst the raw crime data is cached, aggregation to spatial units is done on-the-fly. The smaller the spatial units, the longer this will take.</p> <p>The code for the demo app is here</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#limitations","title":"Limitations","text":"<p>The app is currently deployed on streamlit's own free-tier cloud which imposes limitation on total app size (including data). To keep within this limit the data available to the demo app has been restricted:</p> <ul> <li>West Yorkshire PFA only</li> <li>the choice of spatial unit is restricted (notably omitting output areas and street segments)</li> <li>3 years of crime data</li> </ul> <p>Additionally, due to the use of public data, temporal resolution is limited to monthly units.</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#further-work","title":"Further work","text":"<p>The demo app is implemented within the exploratory data analysis (EDA) repo, as it requires many of the code components developed there in the course of our analysis. Those components will be factored out into a separate repo, which will enable the app to be moved to its own standalone repo.</p> <p>A full-fat version of the app with full datasets will be provided when we have suitable cloud provisioning.</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#link","title":"Link","text":"<p>Try the app for yourself!</p> <p> https://crime-concentration-explorer.streamlit.app/</p> <ol> <li> <p>this refers to the smallest set of spatial units - i.e. those with most crime - that contain a set percentage of the total crime for a given month. For example, you may be able to capture 50% of crime in only 5% of spatial units.\u00a0\u21a9</p> </li> </ol>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/07/30/introducing-safer-streets/","title":"Introducing Safer Streets","text":"<p>Welcome! </p> <p>Here you will find:</p> <ul> <li>blog articles</li> <li>links to interactive tools we have developed/are developing</li> <li>links to github repos containing:<ul> <li>jupyter notebooks and code used in the analysis of crime data.</li> <li>source code for the interactive tools</li> </ul> </li> <li>Team bios</li> </ul>"},{"location":"blog/archive/2025/","title":"August 2025","text":""},{"location":"blog/category/outputs/","title":"Outputs","text":""},{"location":"blog/category/methodology/","title":"Methodology","text":""},{"location":"blog/category/general/","title":"General","text":""}]}