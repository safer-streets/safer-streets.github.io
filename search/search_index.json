{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome-to-safer-streets-leeds","title":"Welcome to Safer Streets @ Leeds","text":"<p>This is where you will find articles chronicling our deliverables and research, and other resources...</p> <p>Work in progress</p> <p>Please note this site is not yet fully operational...</p>"},{"location":"#resources","title":"Resources","text":""},{"location":"#blog","title":"Blog","text":""},{"location":"#apps","title":"Apps","text":"<p> Crime Concentration Explorer Demo App</p>"},{"location":"#repositories","title":"Repositories","text":"<p>See the github org page for instructions on getting set up for development</p> <p> safer-streets-eda - exploratory (public) data analysis</p> <p> safer-streets-apps - applications</p> <p> safer-streets-core - common functionality: crime, demographic and geospatial data extraction and manipulation, statistical methods</p> <p> site - sources for this site</p>"},{"location":"references/","title":"References","text":"<p>TODO...</p>"},{"location":"blog/","title":"Recent Posts","text":""},{"location":"blog/tags/","title":"Tags","text":""},{"location":"blog/tags/#tag:gini-coefficient","title":"Gini coefficient","text":"<ul> <li>            Crime Concentration Explorer          </li> <li>            Measuring Crime Concentration          </li> </ul>"},{"location":"blog/tags/#tag:lorenz-curve","title":"Lorenz curve","text":"<ul> <li>            Crime Concentration Explorer          </li> <li>            Measuring Crime Concentration          </li> </ul>"},{"location":"blog/tags/#tag:poisson-distribution","title":"Poisson distribution","text":"<ul> <li>            Measuring Crime Concentration          </li> </ul>"},{"location":"blog/tags/#tag:public-crime-data","title":"Public crime data","text":"<ul> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"blog/tags/#tag:streamlit","title":"streamlit","text":"<ul> <li>            Crime Concentration Explorer          </li> </ul>"},{"location":"blog/author/team/","title":"The Safer Streets Team","text":"<p>Daniel Birks, Professor of Computational Social Science, University of Leeds</p> <p> profile</p> <p>Toby Davies, Associate Professor in Criminal Justice Data Analytics, University of Leeds</p> <p> profile</p> <p>Andrew Smith, Senior Research Fellow, University of Leeds</p> <p> profile</p>"},{"location":"blog/2025/08/11/crime-concentration-explorer/","title":"Crime Concentration Explorer","text":"","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#rationale","title":"Rationale","text":"<p>This app has been built as a proof-of-concept tool for practitioners and policymakers with an interest in the patterns of crime concentration, using only publicly available data. It enables users to visualise crime hotspots over time for a given Police Force Area (PFA).</p> <p>The use of public data (crime data from data.police.uk) imposes some limitations: although we have precise (albeit slightly perturbed) location data, we only have rough temporal information (the month the crime occurred) and a dozen or so broad categories of crime. The Safer Streets project is concerned specifically with antisocial behaviour (ASB), knife crime and violence against women and girls (VAWG). While ASB is represented in the data, the demo app proxies the broader Possession of weapons and Violence and sexual offences categories for knife crime and VAWG.</p> <p>Users can select the PFA, crime type, spatial units, the degree of concentration<sup>1</sup>, then run the analysis over 3 years or inspect specific months. Counts per spatial unit are displayed on an interactive map and, optionally, a Lorenz curve is shown. The Gini coefficient is displayed.</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#implementation","title":"Implementation","text":"<p>The app is built in the python streamlit framework, using pydeck for map visualisations and altair for graphs.</p> <p>Data is handled using pandas and geopandas for geospatial data.</p> <p>Whilst the raw crime data is cached, aggregation to spatial units is done on-the-fly. The smaller the spatial units, the longer this will take.</p> <p>The code for the demo app is here</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#limitations","title":"Limitations","text":"<p>The app is currently deployed on Streamlit's own free-tier cloud which imposes limitations on total app size (including data). To keep within this limit the data available to the demo app has been restricted:</p> <ul> <li>West Yorkshire PFA only</li> <li>the choice of spatial unit is restricted (notably omitting output areas and street segments)</li> <li>3 years of crime data</li> </ul> <p>Additionally, due to the use of public data, temporal resolution is limited to monthly units.</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#further-work","title":"Further work","text":"<p>The demo app was implemented within the exploratory data analysis (EDA) repo, as it required many of the code components developed there. Those components and the app itself have been factored out into separate repos, which will simplify future deployment.</p> <p>A full-fat version of the app with full datasets will be provided when we have suitable cloud provisioning.</p>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/08/11/crime-concentration-explorer/#link","title":"Link","text":"<p>Try the app for yourself!</p> <p> https://crime-concentration-explorer.streamlit.app/</p> <ol> <li> <p>this refers to the smallest set of spatial units - i.e. those with most crime - that contain a set percentage of the total crime for a given month. For example, you may be able to capture 50% of crime in only 5% of spatial units.\u00a0\u21a9</p> </li> </ol>","tags":["streamlit","Public crime data","Gini coefficient","Lorenz curve"]},{"location":"blog/2025/07/30/introducing-safer-streets/","title":"Introducing Safer Streets","text":"<p>Welcome! </p> <p>Here you will find:</p> <ul> <li>blog articles</li> <li>links to interactive tools we have developed/are developing</li> <li>links to github repos containing:<ul> <li>jupyter notebooks and code used in the analysis of crime data.</li> <li>source code for the interactive tools</li> </ul> </li> <li>Team bios</li> </ul>"},{"location":"blog/2025/08/22/measuring-crime-concentration/","title":"Measuring Crime Concentration","text":"<p>What constitutes concentration? In this article we ask:</p> <ul> <li>how do we count crimes? And how do we account for and control for heterogeneity in our observations (units with different area and populations)?</li> <li>how do we decide if crime is concentrated? What measures are traditionally used?</li> <li>if crime is purely random and thus isn't concentrated in any meaningful sense, will we still measure some concentration using traditional measures?</li> <li>can we develop a \"null hypothesis\" statistical model to create a baseline measure, allowing us to differentiate between random and structural effects? What features must this model have to be realistic?</li> <li>how do we develop this into a useful measure?</li> </ul>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#counting-crime","title":"Counting Crime","text":"<p>In the UK, the Police publish monthly crime statistics covering 12 broad categories of crime. The data includes precise geographic information - \"snapped\" coordinates(1) as well as LSOA(2) - but no information on timing other than the month in which it occurred. For the purposes of this article our dataset will be the incidents of antisocial behaviour in West Yorkshire PFA(3) over the last 3 years.</p> <ol> <li> To preserve anonymity the points are snapped to \"snap points\" which are typically the centre of a street segment or a public place</li> <li> LSOA (Lower layer Super Output Area) is a hierarchical census geography which controls (to some extent) for resident population, so LSOAs can vary widely in terms of area but less so in terms of population - usually containing 1000-3000 people. LSOAs are aggregations of OAs (Output Areas) and in turn aggregate into MSOAs (Middle layer Super Output Area)</li> <li> Police Force Area, effectively the county</li> </ol> <p>Since perpetrators and victims are people, we'd expect a strong correlation between population and crime counts in given spatial units. But locations also present opportunities for crime, we would also expect to see some correlation between area too.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#aggregation-options","title":"Aggregation Options","text":"<p>Since we have metre-resolution coordinates for each crime we are free to count crimes in any spatial unit of our choice. This boils down to three categories:</p> <ul> <li> <p>statistical geographies that control for population and align to administrative boundaries, but vary widely in size and shape.</p> </li> <li> <p>regular spatial units (grid, hex etc) that have constant area (except where they cross the PFA boundary) but widely varying population. The histograms below highlight the differences between LSOAs with and 1200m square grid (this size results in a similar number of units)</p> </li> <li> <p>the street network. This typically will have the largest number of units - making it computationally more expensive - and has considerable variability in both size and population</p> </li> </ul> <p>Populations of non-statistical Spatial Units</p> <p>Assigning populations to streets or regular spatial units in a realistic way warrants an article of it's own. Watch this space...</p> <p></p> <p>This illustrates how the choice of spatial units has a large impact on the structure of our count data, and in the coming sections we'll see that it has a profound effect on the concentration metrics that are normally used.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#measuring-concentration","title":"Measuring concentration","text":"<p>Once we have crime counts for each of our spatial units, how do we determine whether crime is concentrated? That is, how much of the clustering/clumpiness we observe can be attributed to random fluctuations, and how much is structural in some way? Traditional measures include the Lorenz curve(1), which plots the proportion of space against the proportion  of events</p> <ol> <li> originally used in Economics to measure income disparity - cumulative wealth versus cumulative population.</li> </ol> <p>The Gini index can be used to capture disparity in a single value - it measures the amount by which the Lorenz curve deviates from a straight line. A straight line represents a perfectly uniform distribution of counts across units.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#examples-of-the-lorenz-curve-and-gini-index","title":"Examples of the Lorenz curve and Gini index","text":"<p>Using a month's worth of incidents (~2700) of antisocial behaviour in West Yorkshire, we can construct the Lorenz curves for crimes aggregated by LSOA and by a square grid of roughly equivalent average size. In each graph the black dotted line represents the \"baseline\", meaning the number of crimes in each spatial unit if crimes were uniformly distributed. The Gini coefficient(1) is represented by the shaded areas:</p> <ol> <li> the value of Gini is actually twice the shaded area.</li> </ol> <p></p> <p>For uniform spatial units there is no difference between the cumulative count of units and the cumulative area of units (since they all have the same area), but this is definitely not the case for LSOAs, as can be seen in the graph on the right.</p> <p>In the left-hand graphs the dotted baseline curve represents an even distribution of crimes - in this case each spatial unit having the same number - approximately 1.9 - of crimes.</p> <p>Since LSOAs vary widely in area, a fixed number of crimes represents a wide variation in crime density, so in the right-hand graph we have computed the Gini coefficient using a baseline that represents an even distribution of crime density - i.e. the crime count is proportional to the size of the unit.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#what-about-population","title":"What about population?","text":"<p>So far we have compared cumulative area to a simple count of units, but we could also look at cumulative population (which is arguably more justifiable than area). The graphs below show the Lorenz curves for LSOAs (left) and the regular grid (right).</p> <p></p> <p>Because LSOAs do not have a high degree of variability in population, the Lorenz curve is very similar to the unweighted one above and the modified Gini index is lower largely due to the slight curvature of baseline curve.</p> <p>Conversely, because there is a very high degree of variability in population for a regular grid (some 15% of units actually have zero population) the baseline curve is extremely steep, steeper even than the Lorenz curve, resulting in a negative modified Gini index, implying that under this measure (population weighted regular grid), crime is actually dispersed rather than concentrated!</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#now-what","title":"Now what?","text":"<p>We've used the same raw crime and population data to create 5 very different representations of crime concentration, illustrating the subjectivity of these measures and the profound impact the choice of aggregation can have.</p> <p>In the next section we shall look at whether the baselines are a sensible reference value for measuring concentration.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#what-if-crime-isnt-concentrated","title":"What if crime isn't concentrated?","text":"<p>The distribution of crimes across spatial units is necessarily a discrete distribution, since you can't have fractional crimes. In the previous section the baseline represented ~1.9 crimes per unit, so is impossible - the closest we could get to this configuration is 2 crimes in ~90% of units and 1 in the remainder, which would add a \"kink\" to the baseline curve, reducing the shaded area and the Gini coefficient. When the baseline rate is less than one crime per unit (as is often the case), then we know some units must be crime-free, effectively squashing the baseline curve to the left and further reducing the shaded area.</p> <p>So in order to measure how concentrated crime actually is, we first need to establish what metrics we get when we know crime isn't concentrated. This is our null hypothesis and can be easily simulated with random sampling.</p> <p>Let's say we have \\(N\\) identical spatial units and our expectations is a total of \\(C\\) crimes. We consider crimes to be i.i.d.(1) Poisson processes with intensity \\(\\lambda=C/N\\) for each spatial unit.</p> <ol> <li>Independent and identically distributed</li> </ol> <p>In this model, our baseline of a perfectly even distribution is actually a (very) low entropy, (highly) improbable, state for the system. Firstly since we can't have fractional crimes, a perfectly even distribution isn't actually possible unless \\(C\\) is an integer multiple of \\(N\\).</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#how-likely-is-an-even-distribution","title":"How likely is an even distribution?","text":"<p>Taking the simplifying case where \\(C=N\\), the probability of exactly one crime in each unit is given by</p> \\[ p(\\text{uniform}) = N!/N^N \\] <p>which very quickly vanishes as the number of units \\(N\\) increases, so much so that if N is 750 or more, the probability cannot be represented in double precision arithmetic.</p> N p 10 0.0003 30 1e-12 100 9e-43 300 2e-129 1000 ~0 (not representable) <p>Since crime analysis would typically have \\(N\\gg 100\\) and also because typically \\(C&lt;N\\), this does not seem to be a suitable reference for a concentration calculation.</p> <p>When \\(C&lt;N\\), a quasi-uniform distribution would be \\(C\\) units containing 1 crime, and \\(N-C\\) units crime-free. However, although there is more degeneracy(1), this confguration is also an improbable low entropy state with the chance of occurrence given by</p> <ol> <li>Whilst there is only 1 way of putting 10 crimes in 10 different spatial units, there are over 30,000 ways of putting 5 crimes into 10 units with no unit having more than one crime</li> </ol> \\[ p(\\text{quasiuniform}) = \\frac{N!}{(N-C)!N^C} \\] <p>The table below illustrates some probabilities for various values of \\(C\\) and \\(N\\):</p> N C \\(\\lambda\\) p 300 30 0.1 0.2 300 60 0.2 0.002 300 150 0.5 1e-20 1000 100 0.1 0.006 1000 200 0.2 5e-10 1000 500 0.5 3e-67 <p>which again shows that this configuration is highly improbable for the typical values of \\(N\\) and \\(C\\) in crime analysis.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/2025/08/22/measuring-crime-concentration/#so-what-is-the-baseline","title":"So what is the baseline?","text":"<p>What we are looking for is a baseline that would closely match the Lorenz curve for i.i.d. randomly sampled crimes, which by construction are not concentrated. This would ensure that a Gini-like index using this baseline would have a value close to zero for i.i.d. events.</p> <p>The most probable, highest-entropy, state is actually given by the Poisson distribution itself.</p> <p>In other words, in all likelihood there will likely be a mixture of counts in each unit, depending on the intensity (\\(\\lambda=C/N\\)) of the Poisson process. The table below lists the expected number of units with a specific crime count, for 100 crimes at varying intensities:</p> N \\(\\lambda\\) empty 1 crime 2 crimes 3 crimes 4 crimes 1000 0.1 904.8 90.5 4.5 500 0.2 409.4 81.9 8.2 0.5 200 0.5 121.3 60.7 15.2 2.5 0.3 <p>On this basis the null hypothesis Lorenz curve, the Poisson baseline, is given by</p> \\[ L_0(x) = \\frac{1}{\\lambda}\\int_0^x{Q(p; \\lambda) dp} \\] <p>where \\(Q(p;\\lambda)\\) is the inverse CDF of the Poisson distribution. The curve is piecewise-linear and continuous and is described by the origin and the set of points</p> \\[ \\left\\{ (F(k; \\lambda), F(k-1; \\lambda)) \\mid k \\in \\mathbb{N}_0 \\right\\} \\] <p>where \\(F(k; \\lambda)\\) is the CDF.</p> <p>The figure below plots this curve and the naive baseline alongside real crime data and simulated (null hypothesis) crime data. Observe the following points:</p> <ul> <li>the actual crime data is clearly more concentrated than would be expected at random</li> <li>the Lorenz curve for the simulated crimes follows the Poisson baseline very closely</li> <li>the naive Gini value is represented by the combined blue and grey shaded areas</li> </ul> <p>Our assertion is that only the blue shaded area represents a level of concentration over and above purely random events, and in particular the grey shaded area (the \"excess\" Gini) cannot be be used to explain any stuctural mechanism - it arises purely from chance. Therefore, if our model of the Poisson baseline is valid (spoiler alert - it probably isn't), any measure of concentration should be made relative to the Poisson baseline.</p> <p></p> <p>So far, we have only looked at uniform spatial units, Next, we will attempt to validate the model by comparing the distributions of actual crime data and data simulated under the null hypothesis, and seeing if we can extend it to heterogeneous units.</p>","tags":["Lorenz curve","Gini coefficient","Poisson distribution"]},{"location":"blog/archive/2025/","title":"2025","text":""},{"location":"blog/category/methodology/","title":"Methodology","text":""},{"location":"blog/category/outputs/","title":"Outputs","text":""},{"location":"blog/category/general/","title":"General","text":""}]}